'use strict';var e=this;
function f(){class b{constructor(a,d){this.state=b.NONE;this.link=document.createElement("a");a&&this.update(a,d)}static async download(a,d){const c=b.instance;await c.update(a);return c.download(d)}async update(a,d){this.link.download=d||"download";this.state=b.PROGRESSING;return"string"===typeof a?fetch(a).then(c=>c.blob()).then(c=>{this.g(c);return this}).catch(c=>{this.state=b.ERROR;console.error(c);return this}):Promise.resolve(this.g(a))}download(a){a&&(this.link.download=a);this.state===b.READY?
this.link.click():console.error("The file hasn't been ready.");return this}g(a){this.state=b.READY;this.blob=a;this.h=URL.createObjectURL(a);this.link.href=this.h;return this}}b.READY=1;b.NONE=0;b.ERROR=-1;b.PROGRESSING=2;b.instance=new b;return b}"object"===typeof exports&&"undefined"!==typeof module?module.exports=f():"function"===typeof define&&define.i?define(f):(e="undefined"!==typeof globalThis?globalThis:e||self,e.BlobDownloader=f());
