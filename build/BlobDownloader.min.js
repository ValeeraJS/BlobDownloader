'use strict';var e=this;
function f(){class b{constructor(a,d){this.state=b.NONE;this.link=document.createElement("a");a&&this.update(a,d)}async update(a,d){this.link.download=d||"download";this.state=b.PROGRESSING;return"string"===typeof a?fetch(a).then(c=>c.blob()).then(c=>{this.a(c);return this}).catch(c=>{this.state=b.ERROR;console.error(c);return this}):Promise.resolve(this.a(a))}download(a){a&&(this.link.download=a);this.state===b.READY?this.link.click():console.error("The file hasn't been ready.");return this}static async download(a,
d){let c=b.instance;await c.update(a);return c.download(d)}a(a){this.state=b.READY;this.blob=a;this.b=URL.createObjectURL(a);this.link.href=this.b;return this}}b.READY=1;b.NONE=0;b.ERROR=-1;b.PROGRESSING=2;b.instance=new b;return b}"object"===typeof exports&&"undefined"!==typeof module?module.f=f():"function"===typeof define&&define.c?define(f):(e=e||self,e.BlobDownloader=f());
